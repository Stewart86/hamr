## Codebase Patterns
- TUI/GTK/daemon write debug logs to `/tmp` with symlink to latest log.
- **IMPORTANT**: CLI commands use `hamr` binary only, NOT `hamr-daemon`, `hamr-gtk`, `hamr-tui`, etc.
  - Correct: `hamr query "text"`, `hamr index`, `hamr test shell "ls"`
  - Wrong: `hamr-daemon query "text"`, `hamr-cli query "text"`
  - The `hamr` binary is the user-facing CLI; other binaries are internal components
- Configuration is JSON-based with camelCase field names and sensible defaults.
- Action bar hints provide customizable plugin shortcuts with prefix/icon/label/plugin mapping.

## [docs-install-refresh] - DONE
- What: Updated installation guide and README for Rust/GTK implementation, removing QML/Quickshell references and adding GTK4 dependencies
- Files: docs/getting-started/installation.md, README.md, docs/index.md
- Learned: The project has transitioned from QML/Quickshell to Rust/GTK4, requiring updated dependency information and command examples
---

## [docs-config-refresh] - DONE
- What: Refreshed configuration guide to match current Rust/GTK schema, removing QML references and updating all config options
- Files: docs/getting-started/configuration.md
- Learned: Current config uses camelCase JSON with search prefixes, action bar hints, app config for terminal/fileManager/browser, and comprehensive plugin ranking system
- **FIXED**: Corrected CLI command references to use `hamr` instead of `hamr-daemon`/`hamr-gtk`/`hamr-cli`
---

## [docs-landing-migration] - DONE
- What: Updated landing page with migration notice for Rust/GTK4 rewrite and cleaned up stale MkDocs navigation sections
- Files: docs/index.md, mkdocs.yml
- Learned: Added migration notice linking to legacy-qml branch, fixed CLI command references from hamr-gtk/hamr-cli to hamr, removed stale plugin documentation sections from navigation
---

## [Fix]: Correct CLI command references to use `hamr` instead of `hamr-daemon`/`hamr-gtk`/`hamr-cli` - DONE
- What: Fixed incorrect CLI command references in README.md Quick Start section and installation.md compositor examples to use the correct `hamr` binary
- Files: README.md (lines 94-98, 107-108), docs/getting-started/installation.md (lines 115-116, 136)
- Learned: User-facing commands should always use `hamr` binary; internal component names are only appropriate for architecture docs and log paths
---

## [installer-preserve-user-data] - DONE
- What: Added `--reset-user-data` flag to install.sh to preserve user config/plugins by default, with automatic backup when reset is requested
- Files: install.sh
- Learned: The installer previously had destructive behavior that overwrote user plugins/config. Now it preserves user data by default and only resets when explicitly requested with a timestamped backup.
---

## [installer-flags-docs] - DONE
- What: Added installer flags documentation table to README.md and docs/getting-started/installation.md with --check, --yes, and --reset-user-data flags
- Files: README.md (lines 33-38), docs/getting-started/installation.md (lines 88-93)
- Learned: The installer script supports dry-run mode (--check), non-interactive mode (--yes), and user data reset (--reset-user-data) with automatic backup
---

## [compositor-matrix] - DONE
- What: Added compositor support matrix table and layer-shell package names to README and installation docs
- Files: README.md, docs/getting-started/installation.md
- Learned: Created comprehensive support matrix showing Hyprland/Niri/Sway/KDE Wayland as supported, GNOME/X11 as not supported, plus distro-specific package names for layer-shell dependencies
---

## [troubleshooting-table] - DONE
- What: Created comprehensive troubleshooting guide with quick diagnosis table (8 issues) and detailed sections for daemon, plugin, display, and performance issues
- Files: docs/getting-started/troubleshooting.md (new), mkdocs.yml (added nav entry)
- Learned: mkdocs-material requires `pipx install mkdocs-material --include-deps && pipx inject mkdocs-material mike` for proper installation
